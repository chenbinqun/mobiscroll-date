<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">

    <title>Mobiscroll</title>

    <!-- Mobiscroll CSS Includes -->
    <link href="css/mobiscroll.animation.css" rel="stylesheet" type="text/css" />
    <link href="css/mobiscroll.icons.css" rel="stylesheet" type="text/css" />
    <link href="css/mobiscroll.frame.css" rel="stylesheet" type="text/css" />
    <link href="css/mobiscroll.frame.android-holo.css" rel="stylesheet" type="text/css" />
    <link href="css/mobiscroll.frame.ios.css" rel="stylesheet" type="text/css" />
    <link href="css/mobiscroll.frame.jqm.css" rel="stylesheet" type="text/css" />
    <link href="css/mobiscroll.frame.wp.css" rel="stylesheet" type="text/css" />
    <link href="css/mobiscroll.scroller.css" rel="stylesheet" type="text/css" />
    <link href="css/mobiscroll.scroller.android-holo.css" rel="stylesheet" type="text/css" />
    <link href="css/mobiscroll.scroller.ios.css" rel="stylesheet" type="text/css" />
    <link href="css/mobiscroll.scroller.jqm.css" rel="stylesheet" type="text/css" />
    <link href="css/mobiscroll.scroller.wp.css" rel="stylesheet" type="text/css" />
    <link href="css/mobiscroll.image.css" rel="stylesheet" type="text/css" />
    <link href="css/mobiscroll.android-holo-light.css" rel="stylesheet" type="text/css" />
    <link href="css/mobiscroll.wp-light.css" rel="stylesheet" type="text/css" />
    <link href="css/mobiscroll.mobiscroll-dark.css" rel="stylesheet" type="text/css" />

    <style type="text/css">
    body {
        padding: 1em;
        margin: 0;
        font-size: 16px;
        font-family: arial, verdana, sans-serif;
    }
    
    input,
    select {
        width: 100%;
        padding: .625em;
        margin: 0 0 .625em 0;
        border: 1px solid #aaa;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
    }
    </style>
</head>

<body>
    <div>
        <label for="theme">样式</label>
        <select name="theme" id="theme" class="settings">
            <option value="">Mobiscroll</option>
            <option value="mobiscroll-dark">Mobiscroll Dark</option>
            <option value="android-holo">Android Holo</option>
            <option value="android-holo-light">Android Holo Light</option>
            <option value="ios" selected>iOS</option>
            <option value="wp">Windows Phone</option>
            <option value="wp-light">Windows Phone Light</option>
        </select>
    </div>
    <div>
        <label for="display">显示</label>
        <select name="display" id="display" class="settings">
            <option value="center">Center</option>
            <option value="inline">Inline</option>
            <option value="bubble">Bubble</option>
            <option value="top">Top</option>
            <option value="bottom">Bottom</option>
        </select>
    </div>
    <div>
        <label for="language">语言</label>
        <select name="language" id="language" class="settings">
            <option value="cs">Cestina</option>
            <option value="zh" selected>Chinese</option>
            <option value="de">Deutsch</option>
            <option value="en" >English</option>
            <option value="en-UK">English (UK)</option>
            <option value="es">Español</option>
            <option value="fr">Français</option>
            <option value="it">Italiano</option>
            <option value="ja">Japanese</option>
            <option value="hu">Magyar</option>
            <option value="nl">Nederlands</option>
            <option value="no">Norsk</option>
            <option value="pl">Polski</option>
            <option value="pt-PT">Português Europeu</option>
            <option value="pt-BR">Pt. Brasileiro</option>
            <option value="ro">Româna</option>
            <option value="sk">Slovencina</option>
            <option value="sv">Svenska</option>
            <option value="tr">Türkçe</option>
            <option value="ru">Русский</option>
            <option value="ru-UA">Русский (UA)</option>
            <option value="fa">فارسی</option>
        </select>
    </div>

    <label>
        测试
        <input id="test" />
    </label>

    <!-- Mobiscroll JS Includes -->
    <script src="js/mobiscroll.dom.js"></script>
    <script src="js/mobiscroll.core.js"></script>
    <script src="js/mobiscroll.scrollview.js"></script>
    <script src="js/mobiscroll.frame.js"></script>
    <script src="js/mobiscroll.frame.android-holo.js"></script>
    <script src="js/mobiscroll.frame.ios.js"></script>
    <script src="js/mobiscroll.frame.jqm.js"></script>
    <script src="js/mobiscroll.frame.wp.js"></script>
    <script src="js/mobiscroll.scroller.js"></script>
    <script src="js/mobiscroll.android-holo-light.js"></script>
    <script src="js/mobiscroll.wp-light.js"></script>
    <script src="js/mobiscroll.mobiscroll-dark.js"></script>

    <script src="js/i18n/mobiscroll.i18n.cs.js"></script>
    <script src="js/i18n/mobiscroll.i18n.de.js"></script>
    <script src="js/i18n/mobiscroll.i18n.en-UK.js"></script>
    <script src="js/i18n/mobiscroll.i18n.es.js"></script>
    <script src="js/i18n/mobiscroll.i18n.fa.js"></script>
    <script src="js/i18n/mobiscroll.i18n.fr.js"></script>
    <script src="js/i18n/mobiscroll.i18n.hu.js"></script>
    <script src="js/i18n/mobiscroll.i18n.it.js"></script>
    <script src="js/i18n/mobiscroll.i18n.ja.js"></script>
    <script src="js/i18n/mobiscroll.i18n.nl.js"></script>
    <script src="js/i18n/mobiscroll.i18n.no.js"></script>
    <script src="js/i18n/mobiscroll.i18n.pl.js"></script>
    <script src="js/i18n/mobiscroll.i18n.pt-BR.js"></script>
    <script src="js/i18n/mobiscroll.i18n.pt-PT.js"></script>
    <script src="js/i18n/mobiscroll.i18n.ro.js"></script>
    <script src="js/i18n/mobiscroll.i18n.ru.js"></script>
    <script src="js/i18n/mobiscroll.i18n.ru-UA.js"></script>
    <script src="js/i18n/mobiscroll.i18n.sk.js"></script>
    <script src="js/i18n/mobiscroll.i18n.sv.js"></script>
    <script src="js/i18n/mobiscroll.i18n.tr.js"></script>
    <script src="js/i18n/mobiscroll.i18n.zh.js"></script>

    <script>
    (function ($) {

        function init() {
			var date = new Date();
			var month = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];
			
            var ms = mobiscroll.scroller('#test', {
                theme: theme,
                display: display,
                lang: lang,
				showLabel: true,
                wheels: [
                    [{
						key: 'year',
                        label: '年',
                        data: getYear(date.getFullYear())
                    }, {
						key: 'month',
                        label: '月',
                        data: month
                    }, {
						key: 'day',
                        label: '日',
                        data: getDay(date.getFullYear(), date.getMonth())
                    }]
                ],
				formatValue: function(d){
					return d.join('-').replace(/-(\d)(?!\d)/g, '-0$1');
				},
				validate: function(obj, ms){
					if(obj.index != 2){
						var values = obj.values;
						var newVal = {
							day: {
								label: '日',
								data: getDay(values[0], values[1]-1)
							}
						};
						ms.changeWheel(newVal, 10, false);
					}
				}
            });
			
			// 设置当前日期
			ms.setVal([date.getFullYear(), (date.getMonth() + 1), date.getDate()], false, false, false, 0);
        }
		
		function getYear(year){
			var years = [];
			for(var len = year+20; year<len; year++){
				years.push(year);
			}
			return years;
		}
		
		function getDay(year, month){
			var date = dayNumOfMonth(year, month),
				days = [];
			for(var i=1; i <= date; i++){
				days.push(i);
			}
			return days;
		}
		
		function dayNumOfMonth(year, month){
			return 32 - new Date(year, month, 32).getDate();
		}

        var theme, display, lang;

        $('.settings').on('change', function () {
            theme = $('#theme').val() || mobiscroll.settings.theme;
            display = $('#display').val();
            lang = $('#language').val();

            init();
        });

        $('#theme').trigger('change');
    })(mobiscroll.$);
    </script>
</body>

</html>
